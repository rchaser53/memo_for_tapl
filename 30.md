# 高階多相
## 定義
- SystemFωはSystemFとλωを組み合わせて構成
- 型変数が束縛される箇所(型抽象と型量化子)にカインド付け注釈(X::K)が追加される

### 省略記法
- ∀X::*.T   => ∀X.T
- {∃X::*,T} => {∃X,T}

## 強化
- Γ,x:S,ΔT::KならばΓ,ΔT::K

## 並べ替えと弱化
Γ,Δという文脈があり、あるΣに対してΔはΓ,Σの並べ替えで正しい形式(30.3.18)を持つこととする。つまりΔはΓの拡張の並べ替えである
1. Γ|-T::Kならば、Δ|-T::K
2. Γ|-t:Tならば、 Δ|-t:T

## 項の代入
Γ,x:S,Δ|-t:TかつΓ|-s:Sならば、Γ,Δ|-[x->s]t:T

## 型の代入
1. Γ,Y::J,Δ|-T::KかつΓ|-S::Jならば、Γ,[Y->S]Δ|-[Y->S]T::K
2. T≡Uならば[Y->S]T≡[Y->S]U
3. Γ,Y::J,Δ|-t:TかつΓ|-S::JならばΓ,[Y->S]Δ|-[Y->S]t:[Y->S]T

## 型等価性と簡約
### 並行簡約
- Fωに置ける型付けの性質を証明するには、型等価関係に向きを与えたものを用いる
- 型等価性との違いは対称律と推移律が外されたこと
- QR-APPABSの規則が簡約基の一部分を同時に簡約することを許していること
  - 例. (λX::K11.T12)T2は[X->T2]T12に簡約されるが逆方向に簡約はできない
- 推移的対称的閉包(<=>*)が型等価性と一致すること
  - S≡Tの時、かつその時に限りS<=>*T
- 合流性をもつ(Church-Rosser性)

#### 補題
- S=>S'ならば、任意の型Tに対して[Y->S]T=>[Y->S']T
- S=>S'かつT=>T'ならば[Y->S]T=>[Y->S']T'

## 簡約の単一ステップでのダイヤモンド性
- S=>TかつS=>Uならば、ある型Vが存在してT=>VかつU=>V

## 合流性
- S=>*TかつS=>*ならば、ある型Vが存在してT=>*VかつU=>*V
- S<=*Tならば、あるUが存在してS=>*UかつT=>*U
  - 二つの肩が等価ならば、共通の簡約結果をもつ
  - 逆転の性質を証明するために必要な構造が得られる
- S≡Tならば、あるUが存在してS=>*UかつT=>*U
